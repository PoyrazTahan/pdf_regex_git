{
  "company": "ak_E",
  "description": "AK Sigorta field mapping configuration for normalizing extracted policy data",
  "version": "1.0",
  "field_mappings": {
    "Teminat_Hasarsizlik_Koruma": {
      "type": "fixed_value",
      "output": "Var",
      "description": "All AK policies have no-claims protection, defaulting to 'Var' since field is empty but coverage exists based on business rules"
    },
    "Teminat_IMM_Bedeni_Maddi_Ayrimsiz_Bedeli": {
      "type": "numeric_conversion",
      "output_type": "integer",
      "turkish_format": true,
      "mappings": [
        {
          "input_pattern": "SINIRSIZ",
          "output": 9999999999
        }
      ]
    },
    "Police_Gross_Price": {
      "type": "numeric_conversion",
      "output_type": "float",
      "turkish_format": true
    },
    "Teminat_IMM_Manevi_Tazminat_Bedeli": {
      "type": "numeric_conversion",
      "output_type": "integer",
      "turkish_format": true
    },
    "Teminat_Ikame_Arac": {
      "type": "pattern_to_value",
      "mappings": [
        { "input_pattern": null, "output": "0" }
      ],
      "description": "Extraction sayı dönerse aynen korunur; null ise 0’a çevrilir."
    },
    "Teminat_Yedek_Parca": {
      "type": "fixed_value",
      "output": "Var",
      "description": "All AK policies include spare parts coverage"
    },
    "Teminat_Servis_Secimi": {
      "type": "fixed_value",
      "output": "Tüm Yetkili Servisler ve Özel Servisler (Muafiyetli)",
      "description": "Standard service selection for AK policies based on extracted service terms"
    },
    "Teminat_Oto_Cam_Klozu": {
      "type": "pattern_to_value",
      "mappings": [
        { "input_pattern": "muafiyet uygulanmayacaktır", "output": "Orijinal Cam Var & Hasar Muafiyetsiz" },
        { "input_pattern": "Maruz kalınacak oto cam hasarlarında, sigortalımızın anlaşmalı cam\nservislerimizden başka yerlerde cam değiştirmesi ya da tamir ettirmesi durumunda\nher bir hasarda, hasarın % 20 si (1.500 -TL den az olmamak kaydıyla) sigortalı\ntarafından ödenir.",                    "output": "Orijinal Cam Yok & Hasar Muafiyetli" }
      ],
      "description": "Cümlede ‘muafiyet uygulanmayacaktır’ varsa muafiyetsiz; ‘…ödenir.’ varsa muafiyetli olarak normalize eder."
    }

  },
  "transformations": {
    "format_turkish_amount": {
      "description": "Convert Turkish number format (1.000.000,00) to normalized format ( 1,000,000 )",
      "steps": [
        "remove_trailing_decimals",
        "replace_dots_with_commas",
        "add_surrounding_spaces"
      ]
    }
  }
}
